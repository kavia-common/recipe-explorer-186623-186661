{"is_source_file": true, "format": "TypeScript", "description": "This file defines API functions for fetching recipe data, either from a remote API endpoint or from local mock data, depending on a build-time environment variable.", "external_files": ["./mockData"], "external_methods": ["getMockRecipeById"], "published": ["fetchRecipes", "fetchRecipeById"], "classes": [], "methods": [{"name": "getPublicApiBase", "description": "Retrieves the base URL for the public API from environment variables, trimming trailing slashes."}, {"name": "export async function fetchRecipes(): Promise<Recipe[]> { fetchRecipes", "description": "Fetches an array of recipes either from a remote API or local mock data based on the environment variable.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchRecipeById(id: string): Promise<Recipe | undefined> { fetchRecipeById", "description": "Fetches a single recipe by ID from the API or local mock data.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "getMockRecipeById"], "search-terms": ["api.ts", "fetchRecipes", "fetchRecipeById", "getPublicApiBase", "mockData", "Recipe", "public API", "environment variable"], "state": 2, "file_id": 9, "knowledge_revision": 21, "git_revision": "", "ctags": [{"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^  const base = getPublicApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^  const base = getPublicApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "fetchRecipeById", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^export async function fetchRecipeById(id: string): Promise<Recipe | undefined> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^export async function fetchRecipes(): Promise<Recipe[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getPublicApiBase", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^export const getPublicApiBase = (): string | undefined => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^    const res = await fetch(`${base}\\/recipes\\/${encodeURIComponent(id)}`, { headers: { Accept: /", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-186623-186661/frontend/src/lib/api.ts", "pattern": "/^    const res = await fetch(`${base}\\/recipes`, { headers: { Accept: 'application\\/json' } });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}], "hash": "4f61c8a7bca0f4f1c899606a02cfa783", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/lib/api.ts", "revision_history": [{"21": ""}]}